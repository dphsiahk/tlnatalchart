<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Full‑HD Natal (Nata) Chart & Numerology App — Improved</title>
  <style>
    :root{--bg:#071021;--card:#071427;--accent:#7c3aed;--muted:#94a3b8;--glass:rgba(255,255,255,0.03)}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background:linear-gradient(180deg,#04111a 0%, #07162a 60%);color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:22px}
    .app{width:1280px;max-width:100%;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 10px 30px rgba(2,6,23,0.7);border-radius:14px;overflow:hidden;display:grid;grid-template-columns:420px 1fr}
    .sidebar{padding:22px;background:linear-gradient(180deg, rgba(124,58,237,0.05), transparent);border-right:1px solid rgba(255,255,255,0.03)}
    h1{font-size:18px;margin:0 0 6px 0}
    p.lead{margin:0 0 12px 0;color:var(--muted);font-size:13px}
    label{display:block;font-size:12px;color:var(--muted);margin-top:12px}
    .input,select{width:100%;padding:10px 12px;border-radius:10px;background:var(--glass);border:1px solid rgba(255,255,255,0.03);color:inherit;font-size:14px}
    .row{display:flex;gap:10px}
    .small{flex:1}
    .btn{margin-top:12px;background:var(--accent);border:none;color:white;padding:10px 12px;border-radius:10px;font-weight:600;cursor:pointer}
    .result-pane{padding:22px}
    .top-summary{display:flex;gap:14px;align-items:center}
    .card{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
    .big-number{font-size:44px;font-weight:700}
    .muted{color:var(--muted)}
    table{width:100%;border-collapse:collapse;margin-top:14px}
    th,td{padding:10px;border-bottom:1px dashed rgba(255,255,255,0.03);text-align:left}
    th{color:var(--muted);font-size:13px}
    .attribute{background:linear-gradient(90deg, rgba(124,58,237,0.06), rgba(2,6,23,0.02));padding:10px;border-radius:8px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
    .explain{margin-top:12px;background:rgba(255,255,255,0.02);padding:12px;border-radius:10px}
    .small-muted{font-size:13px;color:var(--muted)}
    .controls{display:flex;gap:8px;align-items:center;margin-top:12px}
    @media (max-width:980px){.app{grid-template-columns:1fr;};.grid{grid-template-columns:repeat(2,1fr)} }
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="Natal Chart & Numerology App">
    <aside class="sidebar">
      <h1>Natal Chart & Numerology — Improved</h1>
      <p class="lead">Enter full name and date of birth. This improved version provides detailed, contextual explanations for results (astrology, numerology, Chinese zodiac) and adds African-tradition overlays (Akan day names + culturally-aware guidance).</p>

      <form id="natalForm" onsubmit="return false;">
        <label for="fullName">Full name</label>
        <input id="fullName" class="input" placeholder="e.g. Jane Doe" required />

        <label for="dobDay">Date of birth</label>
        <div class="row">
          <input id="dobDay" class="input small" type="number" min="1" max="31" placeholder="Day" required />
          <select id="dobMonth" class="input small">
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
          </select>
          <input id="dobYear" class="input small" type="number" min="1000" max="9999" placeholder="Year" required />
        </div>

        <label for="birthPlace">Optional: Place (city, country)</label>
        <input id="birthPlace" class="input" placeholder="e.g. Monrovia, Liberia" />

        <div class="controls">
          <button class="btn" id="calcBtn">Generate Chart</button>
          <button class="btn" id="resetBtn" type="button" style="background:#334155">Reset</button>
          <button class="btn" id="printBtn" type="button" style="background:#0ea5a4">Print / Export</button>
        </div>

        <div class="small-muted" style="margin-top:10px">Notes: Life Path uses Pythagorean reduction (11 & 22 retained). Expression number uses Pythagorean letter mapping. Akan Day Name computed from weekday (Ghanaian tradition). Descriptions are archetypal and culturally sensitive.</div>
      </form>
    </aside>

    <main class="result-pane">
      <div class="top-summary">
        <div class="card" style="flex:0 0 220px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="muted">Name</div>
              <div id="outName" style="font-weight:700">—</div>
            </div>
            <div style="text-align:right">
              <div class="muted">Age</div>
              <div id="outAge" class="big-number">—</div>
            </div>
          </div>
        </div>

        <div style="flex:1">
          <div class="card" style="padding:12px;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
            <div style="min-width:160px">
              <div class="muted">Sun sign</div>
              <div id="outSun" style="font-weight:700;font-size:16px">—</div>
            </div>
            <div style="min-width:160px">
              <div class="muted">Life Path</div>
              <div id="outLife" style="font-weight:700;font-size:16px">—</div>
            </div>
            <div style="min-width:160px">
              <div class="muted">Expression</div>
              <div id="outExpr" style="font-weight:700;font-size:16px">—</div>
            </div>
            <div style="min-width:160px">
              <div class="muted">Chinese Zodiac</div>
              <div id="outChinese" style="font-weight:700;font-size:16px">—</div>
            </div>
            <div style="min-width:140px">
              <div class="muted">Akan Day Name</div>
              <div id="outAkan" style="font-weight:700;font-size:16px">—</div>
            </div>
          </div>
        </div>

        <div style="width:220px">
          <div class="card" id="quickAttrs">
            <div class="muted">Quick Attributes</div>
            <div id="outAttrs" style="margin-top:10px">—</div>
          </div>
        </div>
      </div>

      <section style="margin-top:12px">
        <h3 style="margin:0">Chart Table</h3>
        <p class="muted">Computed items with expanded explanations.</p>

        <table aria-live="polite">
          <thead>
            <tr><th>Property</th><th>Value</th><th>Short note</th></tr>
          </thead>
          <tbody id="chartTable">
            <tr><td>Date of birth</td><td id="tdDob">—</td><td id="tdDobNote"></td></tr>
            <tr><td>Age (years)</td><td id="tdAge">—</td><td></td></tr>
            <tr><td>Sun sign</td><td id="tdSun">—</td><td id="tdSunNote"></td></tr>
            <tr><td>Life Path</td><td id="tdLife">—</td><td id="tdLifeNote"></td></tr>
            <tr><td>Expression Number</td><td id="tdExpr">—</td><td id="tdExprNote"></td></tr>
            <tr><td>Chinese Zodiac</td><td id="tdChinese">—</td><td id="tdChineseNote"></td></tr>
            <tr><td>Akan Day Name</td><td id="tdAkan">—</td><td id="tdAkanNote"></td></tr>
          </tbody>
        </table>

        <div class="grid" id="attributesGrid"></div>

        <div class="explain" id="detailedExplanation">
          <h4 style="margin:0">Detailed Explanations</h4>
          <div id="explainContent" class="small-muted" style="margin-top:10px">No results yet. Click Generate Chart to see detailed interpretations and culturally-aware recommendations (rituals, proverbs, community roles) that are general and respectful.</div>
        </div>
      </section>

    </main>
  </div>

  <script>
    // Utilities
    function $(id){return document.getElementById(id)}
    function reduceNumber(n){
      n = Number(n);
      while(n>9 && n!==11 && n!==22){ n = String(n).split('').reduce((s,d)=>s+Number(d),0); }
      return n;
    }

    function calcAge(day,month,year){
      const today = new Date();
      const dob = new Date(year, month-1, day);
      let age = today.getFullYear() - dob.getFullYear();
      const m = today.getMonth() - dob.getMonth();
      if(m<0 || (m===0 && today.getDate() < dob.getDate())) age--;
      return age >= 0 ? age : 0;
    }

    function getSunSign(day,month){
      const zodiac = [
        {name:'Capricorn', from: {m:1,d:1}, to:{m:1,d:19}},
        {name:'Aquarius', from:{m:1,d:20}, to:{m:2,d:18}},
        {name:'Pisces', from:{m:2,d:19}, to:{m:3,d:20}},
        {name:'Aries', from:{m:3,d:21}, to:{m:4,d:19}},
        {name:'Taurus', from:{m:4,d:20}, to:{m:5,d:20}},
        {name:'Gemini', from:{m:5,d:21}, to:{m:6,d:20}},
        {name:'Cancer', from:{m:6,d:21}, to:{m:7,d:22}},
        {name:'Leo', from:{m:7,d:23}, to:{m:8,d:22}},
        {name:'Virgo', from:{m:8,d:23}, to:{m:9,d:22}},
        {name:'Libra', from:{m:9,d:23}, to:{m:10,d:22}},
        {name:'Scorpio', from:{m:10,d:23}, to:{m:11,d:21}},
        {name:'Sagittarius', from:{m:11,d:22}, to:{m:12,d:21}},
        {name:'Capricorn', from:{m:12,d:22}, to:{m:12,d:31}}
      ];
      for(const z of zodiac){
        const start = new Date(2000, z.from.m-1, z.from.d);
        const end = new Date(2000, z.to.m-1, z.to.d);
        const cur = new Date(2000, month-1, day);
        if(cur>=start && cur<=end) return z.name;
      }
      return 'Unknown';
    }

    function lifePathFromDOB(day,month,year){
      const digits = `${String(day).padStart(2,'0')}${String(month).padStart(2,'0')}${String(year)}`;
      const total = digits.split('').reduce((s,d)=>s+Number(d),0);
      return reduceNumber(total);
    }

    const pythagorean = {
      A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,
      J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,
      S:1,T:2,U:3,V:4,W:5,X:6,Y:7,Z:8
    };

    function expressionNumberFromName(name){
      const letters = name.toUpperCase().replace(/[^A-Z]/g,'');
      if(!letters) return 0;
      let total = 0;
      for(const ch of letters){ total += pythagorean[ch] || 0 }
      return reduceNumber(total);
    }

    function chineseZodiac(year){
      const animals = ['Rat','Ox','Tiger','Rabbit','Dragon','Snake','Horse','Goat','Monkey','Rooster','Dog','Pig'];
      return animals[(year - 4) % 12];
    }

    function weekday(day,month,year){
      const d = new Date(year, month-1, day);
      return d.getDay(); // 0 Sun .. 6 Sat
    }

    function akanDayName(day,month,year,gender='unknown'){
      // Akan day names (Ghana) — male/female variants
      const male = ['Kwasi','Kwadwo','Kwabena','Kwaku','Yaw','Kofi','Kwame'];
      const female = ['Akosua','Adwoa','Abenaa','Akua','Yaa','Afua','Ama'];
      const w = weekday(day,month,year);
      if(gender.toLowerCase().startsWith('m')) return male[w];
      if(gender.toLowerCase().startsWith('f')) return female[w];
      return `${male[w]} / ${female[w]}`;
    }

    // Descriptions (expanded)
    const sunAttrs = {
      'Aries':'Bold and initiating energy. Aries people typically lead, take risks, and have a direct style. They respond well to challenge and can teach others about courage and starting new things.',
      'Taurus':'Grounded, patient, and values stability. Taurus often excels at building, caretaking, and tending resources. They bring steadiness to communities.',
      'Gemini':'Communicative and adaptable. Geminis are idea carriers, storytellers, and excellent at connecting people and information.',
      'Cancer':'Nurturing and sensitive. Strong ties to home, family, and community memory. Often keepers of oral history and caregivers.',
      'Leo':'Confident, warm, and expressive. Leos inspire through generosity and often take visible leadership roles in ceremonies and festivals.',
      'Virgo':'Analytical and service-oriented. Virgos are practical helpers, organizers, and attentive to craft and ritual details.',
      'Libra':'Harmonizing, diplomatic, and justice-oriented. Libra energy helps mediate disputes and design beauty in social spaces.',
      'Scorpio':'Deep, intense, and transformational. Scorpios process crisis and renewal, often associated with initiation and rites of passage.',
      'Sagittarius':'Explorer and teacher. Sags bring philosophy, travel stories, and a love of wide perspectives.',
      'Capricorn':'Responsible and strategic. Capricorns steward institutions and long-term projects in communities.',
      'Aquarius':'Innovator and humanitarian. Aquarius can champion collective progress and technological or social reform.',
      'Pisces':'Compassionate, imaginative, and spiritually receptive. Often engaged with music, healing, and dreamwork.'
    };

    const lifeAttrs = {
      1:'Leadership, initiative, independence. (Proverb: "If you want to go fast, go alone; if you want to go far, go together.")',
      2:'Cooperation, diplomacy, and sensitivity to relationships. (Community-oriented roles.)',
      3:'Creative communication, storytelling, and cultural expression.',
      4:'Practical building, stability, dedication and craft.',
      5:'Adaptable, mobile, change-embracing; often traders or messengers in old societies.',
      6:'Caretaker, often family or community-focused — responsible and service-minded.',
      7:'Seeker and wise one — introspective, often a scholar, diviner or elder-in-training.',
      8:'Manager and organizer of resources — able to bring large projects to fruition.',
      9:'Sage and humanitarian — oriented toward community-wide healing and generosity.',
      11:'Visionary and inspirational leader. (Master number — spiritual calling)',
      22:'Master builder — combines vision with practical power to create institutions.'
    };

    const exprAttrs = Object.assign({}, lifeAttrs);

    const chineseAttrs = {
      'Rat':'Resourceful and quick — able to see opportunities and adapt.',
      'Ox':'Patient and dependable — respected as steady workers.',
      'Tiger':'Courageous and bold — natural leaders in crisis.',
      'Rabbit':'Gentle and diplomatic — good mediators and artisans.',
      'Dragon':'Energetic and charismatic — inspires others and takes initiatives.',
      'Snake':'Reflective and graceful — good strategists.',
      'Horse':'Free-spirited, energetic and mobile.',
      'Goat':'Peaceful, artistic, and community-minded.',
      'Monkey':'Clever, inventive and playful.',
      'Rooster':'Conscientious and exacting — good at details.',
      'Dog':'Loyal and protective — strong in social support roles.',
      'Pig':'Generous and diligent — valued for care-giving.'
    };

    const akanAttrs = {
      'Kwasi':'Sunday-born: often generous, creative — associated with beginnings and sunlight.',
      'Kwadwo':'Monday-born: calm, patient, responsible — good caretakers.',
      'Kwabena':'Tuesday-born: energetic and competitive; effective in dynamic roles.',
      'Kwaku':'Wednesday-born: communicative and clever; strong in trade or messages.',
      'Yaw':'Thursday-born: determined and visionary; often community builders.',
      'Kofi':'Friday-born: social, lucky, and often successful in partnerships.',
      'Kwame':'Saturday-born: reflective, strong-willed and respected as elder-type figures.'
    };

    // Render
    function renderAttributes({name,day,month,year,age,sun,life,expr,chinese,akan}){
      $('outName').textContent = name || '—';
      $('outAge').textContent = age;
      $('outSun').textContent = sun;
      $('outLife').textContent = life;
      $('outExpr').textContent = expr;
      $('outChinese').textContent = chinese;
      $('outAkan').textContent = akan;

      $('tdDob').textContent = `${String(day).padStart(2,'0')}/${String(month).padStart(2,'0')}/${year}`;
      $('tdAge').textContent = age;
      $('tdSun').textContent = sun;
      $('tdLife').textContent = life;
      $('tdExpr').textContent = expr;
      $('tdChinese').textContent = chinese;
      $('tdAkan').textContent = akan;

      $('tdSunNote').textContent = sunAttrs[sun] || '';
      $('tdLifeNote').textContent = lifeAttrs[life] || '';
      $('tdExprNote').textContent = exprAttrs[expr] || '';
      $('tdChineseNote').textContent = chineseAttrs[chinese] || '';
      $('tdAkanNote').textContent = akanAttrs[akan.split(' ')[0]] || '';

      const quick = [sunAttrs[sun], lifeAttrs[life], exprAttrs[expr], chineseAttrs[chinese]].filter(Boolean).slice(0,3).join(' ');
      $('outAttrs').textContent = quick || '—';

      // attribute cards
      const grid = $('attributesGrid'); grid.innerHTML = '';
      const cards = [
        {title:'Sun sign', val:sun, desc:sunAttrs[sun]},
        {title:'Life Path', val:life, desc:lifeAttrs[life]},
        {title:'Expression', val:expr, desc:exprAttrs[expr]},
        {title:'Chinese Zodiac', val:chinese, desc:chineseAttrs[chinese]},
        {title:'Akan Day', val:akan, desc:akanAttrs[akan.split(' ')[0]]}
      ];
      for(const c of cards){
        const el = document.createElement('div'); el.className='attribute card';
        el.innerHTML = `<strong>${c.title}: ${c.val}</strong><div style="margin-top:8px;color:var(--muted)">${c.desc || ''}</div>`;
        grid.appendChild(el);
      }

      // Detailed explanation section
      const explain = [];
      explain.push(`<strong>Sun sign — ${sun}</strong><div>${sunAttrs[sun] || ''}</div>`);
      explain.push(`<strong>Life Path — ${life}</strong><div>${lifeAttrs[life] || ''}</div>`);
      explain.push(`<strong>Expression Number — ${expr}</strong><div>${exprAttrs[expr] || ''}</div>`);
      explain.push(`<strong>Chinese Zodiac — ${chinese}</strong><div>${chineseAttrs[chinese] || ''}</div>`);
      explain.push(`<strong>Akan Day Name — ${akan}</strong><div>${akanAttrs[akan.split(' ')[0]] || ''}</div>`);

      // Cultural guidance (general, respectful)
      explain.push(`<strong>Cultural & Ancestral Guidance</strong><div>In many African traditions, the day of birth, community role, and family lineage shape responsibilities and rituals. Use these results as a starting point to explore local elders, proverbs, and community practices. Suggested approaches: consult a trusted elder, use proverbs to reflect on your Life Path, and apply your Expression number to skills and crafts that serve the community. This app provides archetypal guidance, not prescriptive cultural rules.</div>`);

      $('explainContent').innerHTML = explain.join('<hr style="opacity:0.06">');
    }

    // Main compute
    $('calcBtn').addEventListener('click', ()=>{
      const name = $('fullName').value.trim() || 'Unknown';
      const day = Number($('dobDay').value);
      const month = Number($('dobMonth').value);
      const year = Number($('dobYear').value);
      if(!day || !month || !year) return alert('Please provide a valid day, month and year.');

      const testDate = new Date(year, month-1, day);
      if(testDate.getDate() !== day){ return alert('The day is invalid for that month/year.'); }

      const age = calcAge(day,month,year);
      const sun = getSunSign(day,month);
      const life = lifePathFromDOB(day,month,year);
      const expr = expressionNumberFromName(name);
      const chinese = chineseZodiac(year);
      const akan = akanDayName(day,month,year);

      renderAttributes({name,day,month,year,age,sun,life,expr,chinese,akan});
    });

    $('resetBtn').addEventListener('click', ()=>{
      $('fullName').value='';$('dobDay').value='';$('dobMonth').value='1';$('dobYear').value='';$('birthPlace').value='';
      ['outName','outAge','outSun','outLife','outExpr','outChinese','outAkan','outAttrs'].forEach(id=>$(id).textContent='—');
      ['tdDob','tdAge','tdSun','tdLife','tdExpr','tdChinese','tdAkan'].forEach(id=>$(id).textContent='—');
      $('attributesGrid').innerHTML='';$('explainContent').textContent='No results yet. Click Generate Chart to see detailed interpretations.';
    });

    $('printBtn').addEventListener('click', ()=>{ window.print(); });

    ['fullName','dobDay','dobMonth','dobYear'].forEach(id=>$(id).addEventListener('keydown', (e)=>{ if(e.key==='Enter') $('calcBtn').click(); }));

  </script>
</body>
</html>
