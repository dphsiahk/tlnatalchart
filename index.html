<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Full‑HD Natal (Nata) Chart & Numerology App</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#7c3aed;--muted:#94a3b8;--glass:rgba(255,255,255,0.03)}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background:linear-gradient(180deg,#071025 0%, #07162a 50%, #04111a 100%);color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:32px}
    .app{width:1280px;max-width:100%;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 10px 30px rgba(2,6,23,0.7);border-radius:18px;overflow:hidden;display:grid;grid-template-columns:420px 1fr}
    .sidebar{padding:28px;background:linear-gradient(180deg, rgba(124,58,237,0.06), transparent);border-right:1px solid rgba(255,255,255,0.03)}
    h1{font-size:20px;margin:0 0 6px 0}
    p.lead{margin:0 0 18px 0;color:var(--muted);font-size:13px}
    label{display:block;font-size:12px;color:var(--muted);margin-top:12px}
    .input,select{width:100%;padding:10px 12px;border-radius:10px;background:var(--glass);border:1px solid rgba(255,255,255,0.03);color:inherit;font-size:14px}
    .row{display:flex;gap:10px}
    .small{flex:1}
    .btn{margin-top:16px;background:var(--accent);border:none;color:white;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
    .result-pane{padding:28px}
    .top-summary{display:flex;gap:20px;align-items:center}
    .card{background:rgba(255,255,255,0.02);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.02)}
    .big-number{font-size:48px;font-weight:700}
    .muted{color:var(--muted)}
    table{width:100%;border-collapse:collapse;margin-top:18px}
    th,td{padding:10px;border-bottom:1px dashed rgba(255,255,255,0.03);text-align:left}
    th{color:var(--muted);font-size:13px}
    .attribute{background:linear-gradient(90deg, rgba(124,58,237,0.06), rgba(2,6,23,0.02));padding:10px;border-radius:8px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:18px}
    .footer{margin-top:20px;color:var(--muted);font-size:13px}
    @media (max-width:980px){.app{grid-template-columns:1fr;};.grid{grid-template-columns:repeat(2,1fr)} }
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="Natal Chart & Numerology App">
    <aside class="sidebar">
      <h1>Natal Chart & Numerology</h1>
      <p class="lead">Enter a name and date of birth to compute age, Sun sign, life path, name expression, Chinese zodiac and a short attribute table generated by numerology & basic astrology rules.</p>

      <form id="natalForm" onsubmit="return false;">
        <label for="fullName">Full name</label>
        <input id="fullName" class="input" placeholder="e.g. Jane Doe" required />

        <label for="dobDay">Date of birth</label>
        <div class="row">
          <input id="dobDay" class="input small" type="number" min="1" max="31" placeholder="Day" required />
          <select id="dobMonth" class="input small">
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
          </select>
          <input id="dobYear" class="input small" type="number" min="1000" max="9999" placeholder="Year" required />
        </div>

        <label for="timeZone">Optional: Timezone (for advanced charts)</label>
        <input id="timeZone" class="input" placeholder="e.g. Africa/Monrovia or +00:00" />

        <button class="btn" id="calcBtn">Generate Chart</button>
        <button class="btn" id="resetBtn" type="button" style="background:#334155;margin-left:8px">Reset</button>

        <div class="footer">Built-in rules: Sun sign by date, Pythagorean numerology (life path, expression), Chinese Zodiac by year. This is an educational tool, not a replacement for professional astrological charts.</div>
      </form>
    </aside>

    <main class="result-pane">
      <div class="top-summary">
        <div class="card" style="flex:0 0 220px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="muted">Name</div>
              <div id="outName" style="font-weight:700">—</div>
            </div>
            <div style="text-align:right">
              <div class="muted">Age</div>
              <div id="outAge" class="big-number">—</div>
            </div>
          </div>
        </div>

        <div style="flex:1">
          <div class="card" style="padding:14px;display:flex;gap:18px;align-items:center">
            <div>
              <div class="muted">Sun sign</div>
              <div id="outSun" style="font-weight:700;font-size:18px">—</div>
            </div>
            <div>
              <div class="muted">Life Path (Numerology)</div>
              <div id="outLife" style="font-weight:700;font-size:18px">—</div>
            </div>
            <div>
              <div class="muted">Expression (Name)</div>
              <div id="outExpr" style="font-weight:700;font-size:18px">—</div>
            </div>
            <div>
              <div class="muted">Chinese Zodiac</div>
              <div id="outChinese" style="font-weight:700;font-size:18px">—</div>
            </div>
          </div>
        </div>

        <div style="width:220px">
          <div class="card" id="quickAttrs">
            <div class="muted">Quick Attributes</div>
            <div id="outAttrs" style="margin-top:10px">—</div>
          </div>
        </div>
      </div>

      <section style="margin-top:18px">
        <h3 style="margin:0">Chart Table</h3>
        <p class="muted">Detailed computed items</p>

        <table aria-live="polite">
          <thead>
            <tr><th>Property</th><th>Value</th><th>Notes</th></tr>
          </thead>
          <tbody id="chartTable">
            <tr><td>Date of birth</td><td id="tdDob">—</td><td id="tdDobNote"></td></tr>
            <tr><td>Age (years)</td><td id="tdAge">—</td><td></td></tr>
            <tr><td>Sun sign</td><td id="tdSun">—</td><td id="tdSunNote"></td></tr>
            <tr><td>Life Path</td><td id="tdLife">—</td><td id="tdLifeNote"></td></tr>
            <tr><td>Expression Number</td><td id="tdExpr">—</td><td id="tdExprNote"></td></tr>
            <tr><td>Chinese Zodiac</td><td id="tdChinese">—</td><td id="tdChineseNote"></td></tr>
          </tbody>
        </table>

        <div class="grid" id="attributesGrid">
          <!-- attributes will be injected here -->
        </div>
      </section>

      <section style="margin-top:18px">
        <h3 style="margin:0">Notes & Explanations</h3>
        <p class="muted">This tool uses simple, verifiable calculations: Sun sign from month & day; Life Path is the digit reduction of the full date (allowing master numbers 11 and 22); Expression number is calculated using Pythagorean mapping of letters to numbers then reduced. Descriptions are generalized archetypes.</p>
      </section>
    </main>
  </div>

  <script>
    // --- Utilities ---
    function $(id){return document.getElementById(id)}
    function reduceNumber(n){ // digit reduction with master numbers 11 & 22 preserved
      n = Number(n);
      while(n>9 && n!==11 && n!==22){
        n = String(n).split('').reduce((s,d)=>s+Number(d),0);
      }
      return n;
    }

    function calcAge(day,month,year){
      const today = new Date();
      const dob = new Date(year, month-1, day);
      let age = today.getFullYear() - dob.getFullYear();
      const m = today.getMonth() - dob.getMonth();
      if(m<0 || (m===0 && today.getDate() < dob.getDate())) age--;
      return age >= 0 ? age : 0;
    }

    function getSunSign(day,month){
      // month: 1-12
      const zodiac = [
        {name:'Capricorn', from: {m:1,d:1}, to:{m:1,d:19}},
        {name:'Aquarius', from:{m:1,d:20}, to:{m:2,d:18}},
        {name:'Pisces', from:{m:2,d:19}, to:{m:3,d:20}},
        {name:'Aries', from:{m:3,d:21}, to:{m:4,d:19}},
        {name:'Taurus', from:{m:4,d:20}, to:{m:5,d:20}},
        {name:'Gemini', from:{m:5,d:21}, to:{m:6,d:20}},
        {name:'Cancer', from:{m:6,d:21}, to:{m:7,d:22}},
        {name:'Leo', from:{m:7,d:23}, to:{m:8,d:22}},
        {name:'Virgo', from:{m:8,d:23}, to:{m:9,d:22}},
        {name:'Libra', from:{m:9,d:23}, to:{m:10,d:22}},
        {name:'Scorpio', from:{m:10,d:23}, to:{m:11,d:21}},
        {name:'Sagittarius', from:{m:11,d:22}, to:{m:12,d:21}},
        {name:'Capricorn', from:{m:12,d:22}, to:{m:12,d:31}}
      ];
      for(const z of zodiac){
        const start = new Date(2000, z.from.m-1, z.from.d);
        const end = new Date(2000, z.to.m-1, z.to.d);
        const cur = new Date(2000, month-1, day);
        if(cur>=start && cur<=end) return z.name;
      }
      return 'Unknown';
    }

    function lifePathFromDOB(day,month,year){
      const digits = `${String(day).padStart(2,'0')}${String(month).padStart(2,'0')}${String(year)}`;
      const total = digits.split('').reduce((s,d)=>s+Number(d),0);
      return reduceNumber(total);
    }

    const pythagorean = {
      A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,
      J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,
      S:1,T:2,U:3,V:4,W:5,X:6,Y:7,Z:8
    };

    function expressionNumberFromName(name){
      const letters = name.toUpperCase().replace(/[^A-Z]/g,'');
      if(!letters) return 0;
      let total = 0;
      for(const ch of letters){ total += pythagorean[ch] || 0 }
      return reduceNumber(total);
    }

    function chineseZodiac(year){
      const animals = ['Rat','Ox','Tiger','Rabbit','Dragon','Snake','Horse','Goat','Monkey','Rooster','Dog','Pig'];
      return animals[(year - 4) % 12]; // 2008 is Rat, 2008-4 = 2004 mod 12
    }

    // --- Archetype dictionaries ---
    const sunAttrs = {
      'Aries':'Bold, energetic, pioneering, independent. Good leaders and quick starters.',
      'Taurus':'Stable, patient, sensual, value security and beauty. Practical and persistent.',
      'Gemini':'Communicative, curious, adaptable, social. Gifted with ideas and quick wit.',
      'Cancer':'Emotional, nurturing, protective, family-oriented. Intuitive and caring.',
      'Leo':'Confident, generous, theatrical, warm-hearted. Natural performers and leaders.',
      'Virgo':'Analytical, service-oriented, precise, practical. Good organizers and helpers.',
      'Libra':'Diplomatic, harmony-seeking, sociable, aesthetic. Seeks balance and fairness.',
      'Scorpio':'Intense, passionate, secretive, transformative. Strong will and insight.',
      'Sagittarius':'Adventurous, philosophical, optimistic, freedom-loving. Loves learning.',
      'Capricorn':'Disciplined, responsible, ambitious, practical. Long-term planners.',
      'Aquarius':'Innovative, humanitarian, independent, intellectual. Future-focused.',
      'Pisces':'Compassionate, dreamy, artistic, sensitive. Deeply intuitive.'
    };

    const lifeAttrs = {
      1:'Leader, independent, ambitious, self-starter.',
      2:'Diplomatic, cooperative, sensitive to others, peacemaker.',
      3:'Creative, expressive, social, optimistic.',
      4:'Practical, disciplined, hardworking, builder.',
      5:'Adventurous, freedom-loving, changeable, curious.',
      6:'Responsible, caring, family-focused, service-oriented.',
      7:'Introspective, analytical, spiritual, seeker.',
      8:'Ambitious, material success, manager, power.',
      9:'Compassionate, humanitarian, generous, visionary.',
      11:'Inspirational, spiritually attuned, charismatic (master number).',
      22:'Master builder, large-scale accomplisher, practical visionary.'
    };

    const exprAttrs = Object.assign({}, lifeAttrs);

    const chineseAttrs = {
      'Rat':'Quick-witted, resourceful, versatile.',
      'Ox':'Strong, reliable, fair, conscientious.',
      'Tiger':'Brave, competitive, unpredictable.',
      'Rabbit':'Gentle, quiet, elegant, kind.',
      'Dragon':'Confident, intelligent, enthusiastic.',
      'Snake':'Wise, enigmatic, graceful.',
      'Horse':'Energetic, independent, impatient.',
      'Goat':'Calm, gentle, sympathetic.',
      'Monkey':'Smart, curious, mischievous.',
      'Rooster':'Observant, hardworking, courageous.',
      'Dog':'Loyal, honest, amiable.',
      'Pig':'Generous, compassionate, diligent.'
    };

    // --- Rendering ---
    function renderAttributes({name,day,month,year,age,sun,life,expr,chinese}){
      $('outName').textContent = name || '—';
      $('outAge').textContent = age;
      $('outSun').textContent = sun;
      $('outLife').textContent = life;
      $('outExpr').textContent = expr;
      $('outChinese').textContent = chinese;

      $('tdDob').textContent = `${String(day).padStart(2,'0')}/${String(month).padStart(2,'0')}/${year}`;
      $('tdAge').textContent = age;
      $('tdSun').textContent = sun;
      $('tdLife').textContent = life;
      $('tdExpr').textContent = expr;
      $('tdChinese').textContent = chinese;

      $('tdSunNote').textContent = sunAttrs[sun] || '';
      $('tdLifeNote').textContent = lifeAttrs[life] || '';
      $('tdExprNote').textContent = exprAttrs[expr] || '';

      const quick = [sunAttrs[sun], lifeAttrs[life], exprAttrs[expr], chineseAttrs[chinese]].filter(Boolean).slice(0,3).join(' ');
      $('outAttrs').textContent = quick || '—';

      // Build attribute cards
      const grid = $('attributesGrid'); grid.innerHTML = '';
      const cards = [
        {title:'Sun sign', val:sun, desc:sunAttrs[sun]},
        {title:'Life Path', val:life, desc:lifeAttrs[life]},
        {title:'Expression', val:expr, desc:exprAttrs[expr]},
        {title:'Chinese Zodiac', val:chinese, desc:chineseAttrs[chinese]},
      ];
      for(const c of cards){
        const el = document.createElement('div'); el.className='attribute card';
        el.innerHTML = `<strong>${c.title}: ${c.val}</strong><div style="margin-top:8px;color:var(--muted)">${c.desc || ''}</div>`;
        grid.appendChild(el);
      }
    }

    // --- Main compute ---
    $('calcBtn').addEventListener('click', ()=>{
      const name = $('fullName').value.trim() || 'Unknown';
      const day = Number($('dobDay').value);
      const month = Number($('dobMonth').value);
      const year = Number($('dobYear').value);
      if(!day || !month || !year) return alert('Please provide a valid day, month and year.');

      // Basic validation of day-in-month
      const testDate = new Date(year, month-1, day);
      if(testDate.getDate() !== day){ return alert('The day is invalid for that month/year.'); }

      const age = calcAge(day,month,year);
      const sun = getSunSign(day,month);
      const life = lifePathFromDOB(day,month,year);
      const expr = expressionNumberFromName(name);
      const chinese = chineseZodiac(year);

      renderAttributes({name,day,month,year,age,sun,life,expr,chinese});
    });

    $('resetBtn').addEventListener('click', ()=>{
      $('fullName').value='';$('dobDay').value='';$('dobMonth').value='1';$('dobYear').value='';
      $('outName').textContent='—';$('outAge').textContent='—';$('outSun').textContent='—';$('outLife').textContent='—';$('outExpr').textContent='—';$('outChinese').textContent='—';
      $('outAttrs').textContent='—';
      $('tdDob').textContent='—';$('tdAge').textContent='—';$('tdSun').textContent='—';$('tdLife').textContent='—';$('tdExpr').textContent='—';$('tdChinese').textContent='—';
      $('attributesGrid').innerHTML='';
    });

    // small enhancement: calculate on enter in inputs
    ['fullName','dobDay','dobMonth','dobYear'].forEach(id=>$(id).addEventListener('keydown', (e)=>{ if(e.key==='Enter') $('calcBtn').click(); }));

  </script>
</body>
</html>
